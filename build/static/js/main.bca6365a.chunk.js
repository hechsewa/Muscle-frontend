(window.webpackJsonpreactapi=window.webpackJsonpreactapi||[]).push([[0],{135:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(29),o=t.n(i),s=(t(77),t(55)),l=t.n(s);var c=function(){return r.a.createElement("header",{className:"site-header"},r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-dark bg-steel fixed-top"},r.a.createElement("div",{className:"container"},r.a.createElement("a",{className:"navbar-brand mr-4",href:"/"},r.a.createElement("img",{className:"logoHeader",src:l.a,height:"50px"})),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarToggle","aria-controls":"navbarToggle","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarToggle"},r.a.createElement("div",{className:"navbar-nav mr-auto"},r.a.createElement("a",{className:"nav-item nav-link",href:"/"},"strona g\u0142\xf3wna"),r.a.createElement("a",{className:"nav-item nav-link",href:"/about"},"o aplikacji"),r.a.createElement("a",{className:"nav-item nav-link",href:"/credits"},"\u017ar\xf3d\u0142a"))))))},m=t(15),u=t(8),d=t(19),h=t(20),p=t(5),g=t(21),b=t(56),v=t.n(b),E=function(e){function a(e){var t;return Object(m.a)(this,a),(t=Object(d.a)(this,Object(h.a)(a).call(this,e))).startSongs=t.startSongs.bind(Object(p.a)(t)),t}return Object(g.a)(a,e),Object(u.a)(a,[{key:"startSongs",value:function(e){this.props.history.push("/metric"),window.location.reload()}},{key:"render",value:function(){return r.a.createElement("div",{className:"home"},r.a.createElement("img",{className:"logoHome",src:v.a,alt:"muscle logo pink"}),r.a.createElement("div",{className:"welcome"},r.a.createElement("p",null,"Cze\u015b\u0107! Dzi\u0119ki za chwil\u0119 twojego czasu. Ocenianie powinno zaj\u0105\u0107 maksymalnie do 30 minut. Je\u015bli chcesz wiedzie\u0107 wi\u0119cej o projekcie - kilknij",r.a.createElement("a",{href:"/about"}," tutaj"),".")),r.a.createElement("h4",null,"Jak b\u0119dzie wygl\u0105da\u0107 ankieta?"),r.a.createElement("div",{className:"instrukcje"},r.a.createElement("ul",null,r.a.createElement("li",null,"pos\u0142uchaj 30 sekundowego fragmentu utworu"),r.a.createElement("li",null,"oce\u0144 utw\xf3r w skali 1-5, przyznaj\u0105c mu gwiazdki"),r.a.createElement("li",null,"po klikni\u0119ciu przycisku strza\u0142ki strona automatycznie przeniesie Ci\u0119 do nast\u0119pnego utworu"),r.a.createElement("li",null,"powt\xf3rz operacj\u0119 a\u017c dojdziesz do strony informuj\u0105cej o ko\u0144cu oceniania"))),r.a.createElement("p",null,"Kolejne wy\u015bwietlane przez aplikacj\u0119 utwory b\u0119d\u0105 bazowa\u0107 na twoich poprzednich ocenach i dobiera\u0107 piosenki, kt\xf3re odpowiadaj\u0105 twoim gustom. Im wi\u0119cej utwor\xf3w ocenisz, tym dok\u0142adniejsze b\u0119d\u0105 propozycje. Nie przerywaj badania, wyniki zostan\u0105 zapisane dopiero na ko\u0144cu. Jak b\u0119dziesz gotowy kliknij poni\u017cszy przycisk, aby rozpocz\u0105\u0107."),r.a.createElement("div",{className:"buttonHolder"},r.a.createElement("button",{className:"buttonMain",type:"button",onClick:this.startSongs},"ROZPOCZNIJ")))}}]),a}(r.a.Component),y=t(35),k=t(25);var f=function(){return r.a.createElement("div",{className:"about"},r.a.createElement("h1",null,"O MuSCLe"),r.a.createElement("p",null,"MuSCLe jest aplikacj\u0105 webow\u0105 z systemem rekomendacji piosenek, kt\xf3ra powsta\u0142a w ramach mojej pracy in\u017cynierskiej. Tematem pracy jest rekomendacja utwor\xf3w muzycznych na podstawie ocen innych u\u017cytkownik\xf3w oraz cech audio piosenek.",r.a.createElement("br",null),r.a.createElement("br",null),"G\u0142\xf3wnym celem mojej pracy jest jednak zebranie danych, czyli Twoich ocen utwor\xf3w. Im wi\u0119cej u\u017cytkownik\xf3w przejdzie proces oceniania, tym wi\u0119cej danych zbierzemy, dlatego podaj linka dalej znajomym :) Takie dane s\u0105 potrzebne do lepszego dzia\u0142ania system\xf3w rekomendacji bazuj\u0105cych na podobie\u0144stwie innych u\u017cytkownik\xf3w, jak i tych hybrydowych."))},j=(t(78),function(e){function a(e){var t;Object(m.a)(this,a),t=Object(d.a)(this,Object(h.a)(a).call(this,e));var n="/songs/song".concat(t.props.id-1,".mp3");return t.state={playing:!1,src:n,cover:"https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/514dc845-04f5-4538-8a4f-869b64243265/1-2.jpg",title:t.props.title,band:t.props.band,genre:t.props.genre,recommended:t.props.recommended},t}return Object(g.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"audio-container"},r.a.createElement("div",{className:"coverPhoto"},r.a.createElement("img",{src:""===this.props.cover?this.state.cover:this.props.cover,alt:"CD cover"})),r.a.createElement("div",{className:"metadata"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("b",null,"Tytu\u0142"),": ",this.props.title),r.a.createElement("li",null,r.a.createElement("b",null,"Wykonawca"),": ",this.props.band),r.a.createElement("li",null,r.a.createElement("b",null,"Gatunek"),": ",this.props.genre),r.a.createElement("li",null,r.a.createElement("b",null,"Wybrane dla ciebie"),": ",this.props.recommended))),r.a.createElement("div",{className:"player"},r.a.createElement("audio",{controls:!0},r.a.createElement("source",{src:""+this.state.src}))))}}]),a}(r.a.Component)),w=t(65),z=t.n(w),N=t(57),C=t.n(N),O=t(31),S=t.n(O),M=function(e){function a(e){var t;return Object(m.a)(this,a),(t=Object(d.a)(this,Object(h.a)(a).call(this,e))).stars=t.props.stars,t.state={value:t.stars,dynamicValue:t.stars},t}return Object(g.a)(a,e),Object(u.a)(a,[{key:"handleClick",value:function(e){this.setState({value:e,dynamicValue:e}),this.props.onRatingChange(this.state.dynamicValue)}},{key:"handleMouseEnter",value:function(e){this.setState({dynamicValue:e})}},{key:"handleMouseLeave",value:function(e){this.setState({dynamicValue:this.state.value})}},{key:"render",value:function(){for(var e=[],a=1;a<=5;a++)a<=this.state.dynamicValue?e.push(n.createElement("span",{key:a,className:"star",onMouseEnter:this.handleMouseEnter.bind(this,a),onMouseLeave:this.handleMouseLeave.bind(this,a),onClick:this.handleClick.bind(this,a)},"\u2605")):e.push(n.createElement("span",{key:a,className:"star",onMouseEnter:this.handleMouseEnter.bind(this,a),onMouseLeave:this.handleMouseLeave.bind(this,a),onClick:this.handleClick.bind(this,a)},"\u2606"));return n.createElement("div",null,e)}}]),a}(n.Component),I=function(e){function a(e){var t;return Object(m.a)(this,a),(t=Object(d.a)(this,Object(h.a)(a).call(this,e))).redirect=t.redirect.bind(Object(p.a)(t)),t.ratingChanged=t.ratingChanged.bind(Object(p.a)(t)),t.state={songId:t.props.match.params.id,userId:t.props.match.params.userid,stars:0,img:"",fetchedMeta:{album:"",band:"",genre:"",title:""}},t.nextSong=r.a.createRef(),t.componentWillMount=t.componentWillMount.bind(Object(p.a)(t)),t.getBase64=t.getBase64.bind(Object(p.a)(t)),t}return Object(g.a)(a,e),Object(u.a)(a,[{key:"getBase64",value:function(){var e=this;S.a.get("http://127.0.0.1:5000/pic/cover"+this.state.songId+".jpg",{responseType:"arraybuffer"}).then((function(a){var t=btoa(new Uint8Array(a.data).reduce((function(e,a){return e+String.fromCharCode(a)}),""));""===t?e.setState({img:""}):e.setState({img:"data:;base64,"+t})})).catch((function(e){console.log(e)}))}},{key:"componentWillMount",value:function(){var e=this;S.a.get("http://127.0.0.1:5000/meta/"+this.state.songId).then((function(a){console.log("response",a),e.setState({fetchedMeta:a.data})})).catch((function(e){console.log(e)})),this.getBase64()}},{key:"ratingChanged",value:function(e){this.setState({stars:e})}},{key:"redirect",value:function(e){var a=this;if(0===this.state.stars)window.alert("Prosz\u0119 oceni\u0107 utw\xf3r");else{var t=parseInt(this.state.songId);t+=1;var n={song_id:this.state.songId,user_id:this.state.userId,grade:this.state.stars},r={method:"POST",headers:{"content-type":"application/json"},data:JSON.stringify(n),url:"http://localhost:5000/user/1/song/1/grade"};S()(r).then((function(e){console.log(e),t>107||t<0?(a.props.history.push("/finish"),window.location.reload()):(a.props.history.push("/user/"+a.state.userId+"/song/"+t),window.location.reload())}))}}},{key:"render",value:function(){return r.a.createElement("div",{className:"audio"},r.a.createElement("h1",null,"Ocena piosenki"),r.a.createElement(j,{cover:this.state.img,id:this.state.songId,title:this.state.fetchedMeta.title,band:this.state.fetchedMeta.band,genre:this.state.fetchedMeta.genre,recommended:"yes"}),r.a.createElement("br",null),r.a.createElement("div",{className:"btnPanel"},r.a.createElement("div",{className:"buttonGradeHolder"},r.a.createElement(M,{stars:this.state.stars,onRatingChange:this.ratingChanged})),r.a.createElement("div",{className:"btnNextHolder"},r.a.createElement(C.a,{className:"nextBtn","aria-label":"next song",onClick:this.redirect,ref:this.nextSong},r.a.createElement(z.a,null)))))}}]),a}(r.a.Component),x=Object(k.f)(I),B=function(e){function a(e){var t;return Object(m.a)(this,a),(t=Object(d.a)(this,Object(h.a)(a).call(this,e))).state={name:"",age:"",gender:"",user_id:0},t.handleNameChange=t.handleNameChange.bind(Object(p.a)(t)),t.handleAgeChange=t.handleAgeChange.bind(Object(p.a)(t)),t.handleSubmit=t.handleSubmit.bind(Object(p.a)(t)),t.radioChange=t.radioChange.bind(Object(p.a)(t)),t.postUserData=t.postUserData.bind(Object(p.a)(t)),t}return Object(g.a)(a,e),Object(u.a)(a,[{key:"handleNameChange",value:function(e){this.setState({name:e.target.value})}},{key:"handleAgeChange",value:function(e){this.setState({age:e.target.value})}},{key:"postUserData",value:function(){this.state.name.toString(),this.state.age.toString(),this.state.gender.toString()}},{key:"handleSubmit",value:function(e){var a=this;if(""===this.state.name)alert("Prosz\u0119 poda\u0107 pseudonim");else if(""===this.state.age)alert("Prosz\u0119 poda\u0107 wiek");else if(""===this.state.gender)alert("Prosz\u0119 poda\u0107 p\u0142e\u0107");else if(isNaN(this.state.age))alert("Wiek to tylko liczba");else{var t={pseudo:this.state.name.toString(),age:this.state.age.toString(),gender:this.state.gender.toString()},n={method:"POST",headers:{"content-type":"application/json"},data:JSON.stringify(t),url:"http://localhost:5000/user/1"};S()(n).then((function(e){a.setState({user_id:e.data.user_id}),0!==a.state.user_id?(a.props.history.push("/user/"+a.state.user_id+"/song/1"),window.location.reload()):alert("Co\u015b posz\u0142o nie tak, spr\xf3buj ponownie.")}))}e.preventDefault()}},{key:"radioChange",value:function(e){this.setState({gender:e.currentTarget.value})}},{key:"render",value:function(){return n.createElement("div",{className:"nameForm"},n.createElement("h2",null,"Metryczka"),n.createElement("form",{onSubmit:this.handleSubmit},n.createElement("div",{className:"form-group"},n.createElement("label",{htmlFor:"nameInput"},"Pseudonim"),n.createElement("input",{type:"text",name:"name",value:this.state.name,onChange:this.handleNameChange,className:"form-control",id:"nameInput",placeholder:"pseudo"})),n.createElement("div",{className:"form-group"},n.createElement("label",{htmlFor:"ageInput"},"Wiek"),n.createElement("input",{type:"text",name:"name",value:this.state.age,onChange:this.handleAgeChange,className:"form-control",id:"ageInput",placeholder:"wiek"})),n.createElement("div",{className:"form-group"},n.createElement("label",{htmlFor:"genderInput"},"P\u0142e\u0107"),n.createElement("br",null),n.createElement("div",{className:"radio-option"},n.createElement("input",{type:"radio",value:"f",checked:"f"===this.state.gender,onChange:this.radioChange})," kobieta"),n.createElement("div",{className:"radio-option"},n.createElement("input",{type:"radio",value:"m",checked:"m"===this.state.gender,onChange:this.radioChange})," m\u0119\u017cczyzna"),n.createElement("div",{className:"radio-option"},n.createElement("input",{type:"radio",value:"n",checked:"n"===this.state.gender,onChange:this.radioChange})," wol\u0119 nie podawa\u0107")),n.createElement("input",{type:"submit",value:"Rozpocznij",className:"buttonMain"})))}}]),a}(n.Component),P=Object(k.f)(B);var T=function(){return r.a.createElement("div",{className:"credits"},r.a.createElement("h1",null,"\u0179r\xf3d\u0142a piosenek"),r.a.createElement("p",null,"Lista utwor\xf3w u\u017cytych w aplikacji pochodz\u0105cych ze strony ",r.a.createElement("a",{href:"https://freemusicarchive.org/"},"freemusciarchive.org")," obj\u0119tych licencj\u0105",r.a.createElement("a",{href:"https://creativecommons.org/"}," Creative Commons"),":",r.a.createElement("ul",null,r.a.createElement("li",null)),"Lista utwor\xf3w u\u017cytych w aplikacji za zgod\u0105 artyst\xf3w:",r.a.createElement("ul",null,r.a.createElement("li",null,"DixiBand - All Of Me"),r.a.createElement("li",null,"DixiBand - Sweet Geaorgia Brown"),r.a.createElement("li",null,"Vincent Bella - Birdcage"),r.a.createElement("li",null,"D\u017cind\u017cer Project - We just want to be heard"))))};var W=function(){return r.a.createElement(y.a,null,r.a.createElement("div",{className:"container"},r.a.createElement(c,null),r.a.createElement(k.c,null,r.a.createElement(k.a,{path:"/about",component:f}),r.a.createElement(k.a,{path:"/home",component:E}),r.a.createElement(k.a,{path:"/user/:userid/song/:id",component:x}),r.a.createElement(k.a,{path:"/metric",component:P}),r.a.createElement(k.a,{path:"/credits",component:T}),r.a.createElement(k.a,{path:"/",component:E}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},55:function(e,a,t){e.exports=t.p+"static/media/logo-pelne-grey.c7c84628.png"},56:function(e,a,t){e.exports=t.p+"static/media/logo-pelne-pink.cbcc3bca.png"},72:function(e,a,t){e.exports=t(135)},77:function(e,a,t){}},[[72,1,2]]]);
//# sourceMappingURL=main.bca6365a.chunk.js.map